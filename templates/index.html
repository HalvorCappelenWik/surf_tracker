<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Surf Tracker</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <div class="app-container">

        <!-- Top right About link -->
        <div class="top-bar">
            <a href="{{ url_for('about') }}">About this project</a>
        </div>

        <h1>üåä Surf Tracker</h1>
        <p class="subtitle">Check live surf conditions at top Portuguese beaches</p>

        <form action="/track" method="post" class="surf-form">
            <div class="form-row">
                <label for="beach">Beach</label>
                <select name="beach" id="beach" required>
                    <option value="Ericeira">Ericeira</option>
                    <option value="Nazare">Nazar√©</option>
                    <option value="Peniche">Peniche</option>
                </select>
            </div>

            <div class="form-row">
                <label for="min_wave">Min Wave Height (m)</label>
                <input type="number" name="min_wave" step="0.1" placeholder="e.g. 1.5" required>
            </div>

            <div class="form-row">
                <label for="email">Email for alerts (optional)</label>
                <input type="email" name="email" placeholder="you@example.com">
            </div>

            <div class="form-row checkbox">
                <input type="checkbox" name="notify" value="yes">
                <label>Notify me if conditions are good</label>
            </div>

            <button type="submit">Check Conditions</button>
        </form>
        <div class="vote-section">
            <h2>üó≥Ô∏è Where do Nova students surf?</h2>
            <form action="/vote" method="post" class="vote-form">
              <select name="spot">
                <option value="Ericeira">Ericeira</option>
                <option value="Carcavelos">Carcavelos</option>
                <option value="Nazar√©">Nazar√©</option>
              </select>
              <button type="submit">Vote</button>
            </form>
          
            {% if vote_message %}
              <p class="vote-msg">{{ vote_message }}</p>
            {% endif %}
          
            <div class="vote-results">
              <h3>Current votes:</h3>
              <ul>
                {% for spot, count in vote_counts.items() %}
                  <li><strong>{{ spot }}:</strong> {{ count }} votes</li>
                {% endfor %}
              </ul>
            </div>
          </div>
          

        {% if result %}
            <div class="result-card 
                {% if '‚úÖ' in result %}good
                {% elif '‚òëÔ∏è' in result %}okay
                {% else %}bad{% endif %}">
                <pre>{{ result }}</pre>
            </div>
        {% endif %}

    </div>
</body>
</html>
